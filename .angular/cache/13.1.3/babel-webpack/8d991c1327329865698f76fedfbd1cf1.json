{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nexport let ScrollspyDirective = /*#__PURE__*/(() => {\n  class ScrollspyDirective {\n    // tslint:disable-next-line: variable-name\n    constructor(_el, document) {\n      this._el = _el;\n      this.document = document;\n      this.spiedTags = [];\n      this.sectionChange = new EventEmitter();\n    }\n    /**\r\n     * Window scroll method\r\n     */\n\n\n    onScroll(event) {\n      let currentSection;\n\n      const children = this._el.nativeElement.querySelectorAll('section');\n\n      const scrollTop = this.document.documentElement.scrollTop;\n      const parentOffset = this.document.documentElement.offsetTop; // tslint:disable-next-line: prefer-for-of\n\n      for (let i = 0; i < children.length; i++) {\n        const element = children[i];\n\n        if (this.spiedTags.some(spiedTag => spiedTag === element.tagName)) {\n          if (element.offsetTop - parentOffset <= scrollTop) {\n            currentSection = element.id;\n          }\n        }\n      }\n\n      if (currentSection !== this.currentSection) {\n        this.currentSection = currentSection;\n        this.sectionChange.emit(this.currentSection);\n      }\n    }\n\n  }\n\n  ScrollspyDirective.ɵfac = function ScrollspyDirective_Factory(t) {\n    return new (t || ScrollspyDirective)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(DOCUMENT));\n  };\n\n  ScrollspyDirective.ɵdir = /*@__PURE__*/i0.ɵɵdefineDirective({\n    type: ScrollspyDirective,\n    selectors: [[\"\", \"appScrollspy\", \"\"]],\n    hostBindings: function ScrollspyDirective_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"scroll\", function ScrollspyDirective_scroll_HostBindingHandler($event) {\n          return ctx.onScroll($event);\n        }, false, i0.ɵɵresolveWindow);\n      }\n    },\n    inputs: {\n      spiedTags: \"spiedTags\"\n    },\n    outputs: {\n      sectionChange: \"sectionChange\"\n    }\n  });\n  return ScrollspyDirective;\n})();","map":null,"metadata":{},"sourceType":"module"}